<form [formGroup]="form" class="preferences-grid">
  <div class="toggle-section">
    <label>Reiseziel</label>
    <div class="toggle-group">
      <button
        type="button"
        aria-label="Reiseziel Meer wählen"
        (click)="setDestination('sea')"
        (keydown.space)="setDestination('sea')"
        [class.active]="form.value.destinationType === 'sea'"
        (mouseenter)="onEnter('sea')"
        (mouseleave)="onLeave()"
        [@pulse]="hovered === 'sea' ? 'hover' : 'rest'"
      >
        🌊 Meer
      </button>
      <button
        type="button"
        aria-label="Reiseziel Berge wählen"
        (click)="setDestination('mountain')"
        (keydown.space)="setDestination('mountain')"
        [class.active]="form.value.destinationType === 'mountain'"
        (mouseenter)="onEnter('mountain')"
        (mouseleave)="onLeave()"
        [@pulse]="hovered === 'mountain' ? 'hover' : 'rest'"
      >
        🏔️ Berge
      </button>
    </div>
  </div>

  <div class="toggle-section">
    <label>Klima</label>
    <div class="toggle-group">
      <button
        type="button"
        aria-label="Klima warm wählen"
        (click)="setClimate('warm')"
        (keydown.space)="setClimate('warm')"
        [class.active]="form.value.climate === 'warm'"
        (mouseenter)="onEnter('warm')"
        (mouseleave)="onLeave()"
        [@pulse]="hovered === 'warm' ? 'hover' : 'rest'"
      >
        ☀️ Warm
      </button>
      <button
        type="button"
        aria-label="Klima kalt wählen"
        (click)="setClimate('cold')"
        (keydown.space)="setClimate('cold')"
        [class.active]="form.value.climate === 'cold'"
        (mouseenter)="onEnter('cold')"
        (mouseleave)="onLeave()"
        [@pulse]="hovered === 'cold' ? 'hover' : 'rest'"
      >
        ❄️ Kalt
      </button>
    </div>
  </div>

  <div class="slider-section">
    <label>Erfahrung</label>
    <div class="slider-wrapper">
      <span>Einsteiger</span>
      <input type="range" formControlName="experienceLevel" min="0" max="10">
      <span>Profi</span>
    </div>
  </div>

  <div class="input-section">
    <label for="residency">Wohnort <span class="required">*</span></label>
    <input id="residency" type="text" formControlName="residency" list="city-list" />
    <datalist id="city-list">
      <option value="Berlin"></option>
      <option value="Hamburg"></option>
      <option value="München"></option>
      <option value="Köln"></option>
      <option value="Stuttgart"></option>
    </datalist>
    <div class="error" *ngIf="form.get('residency')?.touched && form.get('residency')?.errors?.['required']">
      Residency erforderlich
    </div>
  </div>

  <div class="input-section">
    <label for="budget">Budget</label>
    <div class="budget-wrapper">
      <input id="budget" type="number" formControlName="budget" min="0" />
      <span class="suffix">€</span>
    </div>
  </div>

  <div class="input-section">
    <label for="tripType">Reiseart</label>
    <select id="tripType" formControlName="tripType">
      <option value="">-- Bitte wählen --</option>
      <option value="mountains">Mountains</option>
      <option value="beach">Beach</option>
      <option value="city">City</option>
    </select>
  </div>

  <div class="slider-section">
    <label>Dauer (Tage)</label>
    <div class="slider-wrapper">
      <span>1</span>
      <input type="range" formControlName="durationDays" min="1" max="30" />
      <span>30</span>
    </div>
  </div>

  <div class="slider-section">
    <label>Temperatur (°C)</label>
    <div class="slider-wrapper">
      <span>-10</span>
      <input type="range" formControlName="temperature" min="-10" max="40" list="temp-list" />
      <datalist id="temp-list">
        <option value="0"></option>
        <option value="10"></option>
        <option value="20"></option>
        <option value="30"></option>
        <option value="40"></option>
      </datalist>
      <span>40</span>
    </div>
  </div>

  <div class="nav-buttons">
    <button
      routerLink="/"
      type="button"
      class="nav-btn"
      aria-label="Zurück zur Startseite"
      (mouseenter)="onEnter('back')"
      (mouseleave)="onLeave()"
      [@pulse]="hovered === 'back' ? 'hover' : 'rest'"
    >
      Zurück
    </button>
    <button
      type="button"
      class="nav-btn"
      aria-label="Weiter"
      (click)="onNext()"
      (keydown.space)="onNext()"
      (mouseenter)="onEnter('next')"
      (mouseleave)="onLeave()"
      [@pulse]="hovered === 'next' ? 'hover' : 'rest'"
    >
      Weiter
    </button>
  </div>
</form>
